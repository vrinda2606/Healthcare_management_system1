<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>public</access>
        <active>true</active>
        <api_name>global.MedicationUtils</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <mobile_callable>false</mobile_callable>
        <name>MedicationUtils</name>
        <sandbox_callable>false</sandbox_callable>
        <script><![CDATA[var MedicationUtils = Class.create();
MedicationUtils.prototype = {
	initialize: function () {
	},

	totalDosage: function (medicine) {
		var medGR = new GlideRecord("u_medication");
		if (medGR.get('u_medication_name', medicine)) {
			var freq = parseInt(medGR.u_frequency);
			var dosage = parseInt(medGR.u_dosage);
			var totalDosage = freq * dosage;
			return totalDosage;
		}
		return null;
	},

	medicationAvailability: function (medicine) {
		var medGR = new GlideRecord("u_medication");
		if (medGR.get('u_medication_name', medicine))
			return true;
		else
			return false;
	},

	medicationById: function (med) {
		var medGR = new GlideRecord("u_medication");
		var res = {};
		if (medGR.get('number', med)) {
			res.patientId = medGR.getDisplayValue('u_patient_id'),
				res.medicationName = medGR.u_medication_name,
				res.dosage = medGR.u_dosage,
				res.freq = medGR.u_frequency
		}
		return res;
	},

	medicationByPatientId: function (patientId) {
		var medGR = new GlideRecord("u_medication");
		var res = [];
		medGR.addQuery('u_patient_id', patientId);
		medGR.query();
		while (medGR.next()) {
			res.push({
			patientId: medGR.getDisplayValue('u_patient_id'),
			medicationName: medGR.u_medication_name,
			dosage: medGR.u_dosage,
			freq: medGR.u_frequency
			});
		}
		return res;
	},

	type: 'MedicationUtils'
};]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-07-27 06:04:24</sys_created_on>
        <sys_id>2a7627ecc3876a5048da3d0ed4013137</sys_id>
        <sys_mod_count>14</sys_mod_count>
        <sys_name>MedicationUtils</sys_name>
        <sys_package display_value="Healthcare Management Application" source="f574d2e9c3b2aa1048da3d0ed4013171">f574d2e9c3b2aa1048da3d0ed4013171</sys_package>
        <sys_policy/>
        <sys_scope display_value="Healthcare Management Application">f574d2e9c3b2aa1048da3d0ed4013171</sys_scope>
        <sys_update_name>sys_script_include_2a7627ecc3876a5048da3d0ed4013137</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-07-27 07:32:03</sys_updated_on>
    </sys_script_include>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>2a7627ecc3876a5048da3d0ed4013137</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-07-27 06:04:23</sys_created_on>
        <sys_id>59f6a7e4c3836a5048da3d0ed40131c8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-07-27 06:04:23</sys_updated_on>
        <table>sys_script_include</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
</record_update>
